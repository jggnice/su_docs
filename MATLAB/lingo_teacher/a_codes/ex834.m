% 大学数学实验|2  p.168-169|176, p.186-188|188  实验8 实例1  奶制品的生产销售计划 
%出售  x1千克 A1, x2千克 A2， x3千克 B1, x4千克 B2 
%          x5千克 A1加工 B1， x6千克 A2加工 B2 
% Max  12x1 + 8x2 + 22x3 + 16x4 C 1.5 x2 C 1.5 x6 
% s.t.  (x1+x5)/3 +(x2+x6)/4 <= 50    ==> 4x1+ 3x2 + 4 x5 + 3x6 <= 600 
%        4(x1+x5)+2( x2+x6)+2x5+2x6 <= 480   ==>2x1+ x2  + 3x5 + 2x6 <= 240 
%        x1 + x5 <= 100  
%        x3 = 0.8x5 ;  x4 = 0.75x6
%      x1, ..., x6 >= 0

'========p.187|188============'
c = [12 8 22 16 -1.5 -1.5];
A1 = [4 3 0 0 4 3;2 1 0 0 3 2;1 0 0 0 1 0];
b1 = [600 240 100];
A2 = [0 0 1 0 -0.8 0;0 0 0 1 0 -0.75];
b2 = [0 0];
v1 = [0 0 0 0 0 0];
[x,z0,ef,out,lag] = linprog(-c,A1,b1,A2,b2,v1) 
lag.ineqlin, lag.eqlin 
z = -z0
%运行结果
%Optimization terminated successfully.
%x =
%    0.0000
%  168.0000
%   19.2000
%    0.0000
%   24.0000
%    0.0000
%z0 = -1.7304e+003
%ef =     1
%out = 
%      iterations: 6
%    cgiterations: 0
%       algorithm: 'lipsol'
%lag = 
%    ineqlin: [3x1 double]
%      eqlin: [2x1 double]
%      upper: [6x1 double]
%      lower: [6x1 double]
%ans =		<==lag.ineqlin
%    1.5800
%    3.2600
%    0.0000
%ans =		<==lag.eqlin
%   22.0000
%   16.5064
'----------p.187   b(1) = 600 ==> 601 -----------'
b1(1) = 601
[x1,z01,ef1,out1,lag1] = linprog(-c,A1,b1,A2,b2,v1) 
z1=-z01
z1_z = z1-z
'---------- p.188  c3 = 22 => 19.8  ----------'
c = [12 8 19.8 16 -1.5 -1.5];
b1 = [600 240 100];
[x1,z01,ef1,out1,lag1] = linprog(-c,A1,b1,A2,b2,v1)   
'---------- p.188  c4 = 16 => 17.6  ----------'
c = [12 8 22 17.6 -1.5 -1.5];
b1 = [600 240 100];
[x1,z01,ef1,out1,lag1] = linprog(-c,A1,b1,A2,b2,v1)   